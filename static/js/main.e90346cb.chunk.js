(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{54:function(e,t,s){},58:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var c,n=s(0),a=s.n(n),r=s(22),i=s.n(r),d=s(6),j=s(27),l=(s(54),s(9)),o=s(11),u=s(17),b=s(33),O=s(34),h=(s(58),s(2)),x=function(e){return Object(h.jsx)(l.a,Object(u.a)(Object(u.a)({},e),{},{getProps:function(e){return{className:e.isCurrent?"active":""}}}))},f=function(){var e=Object(l.d)(),t=new URLSearchParams(e.search),s=t.get("q")||"",c=Object(n.useState)(s),a=Object(o.a)(c,2),r=a[0],i=a[1],d=Object(b.a)(),j=Object(l.e)();Object(n.useEffect)((function(){return i(s)}),[s]);return Object(h.jsxs)("div",{className:"Navbar flex-row",children:[Object(h.jsxs)("nav",{className:"Navbar-links flex-small",children:[Object(h.jsx)("div",{children:Object(h.jsx)(x,{to:"/",children:Object(h.jsx)(O.a,{id:"news",defaultMessage:"News",description:"Link"})})}),Object(h.jsx)("div",{children:Object(h.jsx)(x,{to:"bookmarks",children:Object(h.jsx)(O.a,{id:"bookmarks",defaultMessage:"Bookmarks",description:"Link"})})})]}),Object(h.jsx)("section",{className:"flex-small Navbar-search",children:Object(h.jsxs)("form",{onSubmit:function(s){s.preventDefault(),r?t.set("q",r):t.delete("q"),t.delete("p"),j(t.entries().next().done?e.pathname:"?".concat(t))},children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M.9 5.37a4.37 4.37 0 118.73 0 4.37 4.37 0 01-8.73 0zm7.64 3.81l3.3 3.12-3.3-3.12z",fill:"none",stroke:"#fff",strokeWidth:"2"})}),Object(h.jsx)("input",{type:"search",placeholder:d.formatMessage({id:"search",defaultMessage:"Search",description:"Placeholder"}),value:r,onChange:function(e){return i(e.target.value)}})]})})]})},m=s(18),p=s(12),g=s(23),v=s(30),w=s.n(v),k=s(38),N={get:function(){var e=Object(k.a)(w.a.mark((function e(t){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((s=e.sent).ok){e.next=5;break}throw new Error("Request failed with status code ".concat(s.status));case 5:return e.abrupt("return",s.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=s(39),M=s.n(L),y=function(e){return Object(g.a)([e,function(e,t){return t.query}],(function(e,t){if(t){var s=new RegExp(M()(t),"i");e=e.filter((function(e){return s.test(e.headline)||s.test(e.summary)}))}return e}))},I=function(e,t){return[Object(g.a)([e,function(e,t){return t.page}],(function(e,s){var c=s*t;return e.slice(c,c+t)})),Object(g.a)([e,function(e,t){return t.page}],(function(e,s){return[Math.ceil(e.length/t)-1>s,s>0]}))]},E=Object(p.c)({sortComparer:function(e,t){return t.datetime-e.datetime}}),B=E.getInitialState({status:"idle",error:null}),S=Object(p.b)("news/fetchNews",(function(){return N.get("/company-news.json")})),q=Object(p.d)({name:"news",initialState:B,reducers:{},extraReducers:(c={},Object(m.a)(c,S.pending,(function(e,t){e.status="loading"})),Object(m.a)(c,S.fulfilled,(function(e,t){e.status="succeeded",E.upsertMany(e,t.payload)})),Object(m.a)(c,S.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),c)}).reducer,P=E.getSelectors((function(e){return e.news})),R=P.selectAll,C=(P.selectById,P.selectIds,I(y(Object(g.a)(R,(function(e){return e.slice(1)}))),6)),F=Object(o.a)(C,2),z=F[0],A=F[1],T=s(13),U=s(40),D=Object(p.d)({name:"bookmarks",initialState:[],reducers:{bookmarkTriggered:function(e,t){var s=t.payload,c=e.indexOf(s);-1===c?e.push(s):e.splice(c,1)}}}),G=D.actions.bookmarkTriggered,J=D.reducer,V=I(y(Object(g.a)([function(e){return e.news.entities},function(e){return e.bookmarks}],(function(e,t){return t.map((function(t){return e[t]}))}))),8),H=Object(o.a)(V,2),W=H[0],_=H[1],K=(s(61),function(e){var t=e.itemId,s=Object(d.b)(),c=Object(b.a)(),n=Object(d.c)((function(e){return e.bookmarks.includes(t)})),a=Object(U.a)("BookmarkButton",{added:n});return Object(h.jsx)("button",{type:"button",title:c.formatMessage({id:"add-to-bookmarks",defaultMessage:"Add to Bookmarks",description:"Hint"}),className:a,onClick:function(){return s(G(t))},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",children:Object(h.jsx)("path",{d:"M0 0h11.5v12.3L5.7 10 0 12.3V0z"})})})}),Q=(s(62),function(e){var t=e.item,s=e.isLast;return Object(h.jsxs)("article",{className:"ItemExcerpt",children:[Object(h.jsx)("div",{className:"ItemExcerpt-related",children:t.related}),s&&Object(h.jsx)("div",{className:"ItemExcerpt-last",children:Object(h.jsx)(O.a,{id:"latest-news",defaultMessage:"Latest News",description:"Label"})}),Object(h.jsxs)("div",{className:"ItemExcerpt-title",children:[Object(h.jsx)("h3",{children:t.headline}),Object(h.jsx)("p",{children:t.summary})]}),Object(h.jsxs)("div",{className:"ItemExcerpt-info",children:[s&&Object(h.jsxs)("div",{className:"ItemExcerpt-read-news",children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:[Object(h.jsx)("path",{d:"M10.5 20a9.6 9.6 0 110-19.3 9.6 9.6 0 010 19.2z"}),Object(h.jsx)("path",{d:"M6.5 10.6h6.9"}),Object(h.jsx)("path",{d:"M11.8 8l2.3 2.4-2.3 2.5"})]}),Object(h.jsx)(O.a,{id:"read-news",defaultMessage:"Read News",description:"Link"})]}),Object(h.jsx)("div",{className:"ItemExcerpt-datetime",children:Object(h.jsx)(T.a,{value:1e3*t.datetime,day:"2-digit",month:"short"})}),Object(h.jsx)("div",{className:"ItemExcerpt-min-read",children:Object(h.jsx)(O.a,{id:"n-min-read",defaultMessage:"{n} min read",values:{n:6}})})]}),Object(h.jsxs)("div",{className:"ItemExcerpt-buttons",children:[Object(h.jsxs)("svg",{className:"ItemExcerpt-link",xmlns:"http://www.w3.org/2000/svg",width:"11",height:"14",children:[Object(h.jsx)("path",{d:"M1.5 12.2v-5l7.6-5"}),Object(h.jsx)("path",{d:"M6.3 1.7h3V5"})]}),Object(h.jsx)(K,{itemId:t.id})]}),Object(h.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)("img",{src:t.image,alt:t.headline})})]})}),X=s(41),Y=function(e){var t=e.page,s=e.disabled,c=Object(X.a)(e,["page","disabled"]),n=Object(l.d)();if(s)return Object(h.jsx)("button",Object(u.a)({disabled:!0,className:"round-button"},c));var a=new URLSearchParams(n.search);t>0?a.set("p",String(t)):a.delete("p");var r=a.entries().next().done?n.pathname:"?".concat(a);return Object(h.jsx)(l.a,Object(u.a)({to:r,className:"round-button button"},c))},Z=(s(63),function(){var e,t=Object(l.d)(),s=new URLSearchParams(t.search),c=parseInt(s.get("p")||0),a=s.get("q"),r=Object(d.b)(),i=Object(d.c)((function(e){return R(e)[0]})),j=Object(d.c)((function(e){return z(e,{query:a,page:c})})),u=Object(d.c)((function(e){return A(e,{query:a,page:c})})),b=Object(o.a)(u,2),x=b[0],f=b[1],m=Object(d.c)((function(e){return e.news.status})),p=Object(d.c)((function(e){return e.news.error}));return Object(n.useEffect)((function(){"idle"===m&&r(S())}),[m,r]),"loading"===m?e=Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(O.a,{id:"loading",defaultMessage:"Loading..."})}):"succeeded"===m?e=Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex-row",children:[Object(h.jsx)("div",{className:"NewsList-last flex-small one-third",children:Object(h.jsx)(Q,{item:i,isLast:!0})}),Object(h.jsx)("div",{className:"NewsList-list flex-small two-thirds flex-row",children:j.length?j.map((function(e){return Object(h.jsx)("div",{className:"flex-large one-third",children:Object(h.jsx)(Q,{item:e})},e.id)})):Object(h.jsx)("div",{className:"NewsList-not-found",children:Object(h.jsx)(O.a,{id:"not-found",defaultMessage:"Nothing Found"})})})]}),Object(h.jsxs)("div",{className:"NewsList-pagination",children:[Object(h.jsx)(Y,{disabled:!f,page:c-1,children:Object(h.jsx)(O.a,{id:"previous",defaultMessage:"Previous",description:"Link"})}),Object(h.jsx)(Y,{disabled:!x,page:c+1,children:Object(h.jsx)(O.a,{id:"next",defaultMessage:"Next",description:"Link"})})]})]}):"failed"===m&&(e=Object(h.jsx)("div",{children:p})),Object(h.jsx)("section",{className:"NewsList",children:e})}),$=(s(64),function(){var e,t=Object(l.d)(),s=new URLSearchParams(t.search),c=parseInt(s.get("p")||0),a=s.get("q"),r=Object(d.b)(),i=Object(d.c)((function(e){return W(e,{query:a,page:c})})),j=Object(d.c)((function(e){return _(e,{query:a,page:c})})),u=Object(o.a)(j,2),b=u[0],x=u[1],f=Object(d.c)((function(e){return e.news.status})),m=Object(d.c)((function(e){return e.news.error}));return Object(n.useEffect)((function(){"idle"===f&&r(S())}),[f,r]),"loading"===f?e=Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(O.a,{id:"loading",defaultMessage:"Loading..."})}):"succeeded"===f?e=Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"BookmarksList-list flex-row",children:i.length?i.map((function(e){return Object(h.jsx)("div",{className:"flex-small one-fourth",children:Object(h.jsx)(Q,{item:e})},e.id)})):Object(h.jsx)("div",{className:"BookmarksList-empty",children:Object(h.jsx)(O.a,{id:"empty",defaultMessage:"Empty"})})}),Object(h.jsxs)("div",{className:"BookmarksList-pagination",children:[Object(h.jsx)(Y,{disabled:!x,page:c-1,children:Object(h.jsx)(O.a,{id:"previous",defaultMessage:"Previous",description:"Link"})}),Object(h.jsx)(Y,{disabled:!b,page:c+1,children:Object(h.jsx)(O.a,{id:"next",defaultMessage:"Next",description:"Link"})})]})]}):"failed"===f&&(e=Object(h.jsx)("div",{children:m})),Object(h.jsx)("section",{className:"BookmarksList",children:e})});var ee=function(){return Object(h.jsxs)("div",{className:"App container",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)(l.b,{children:Object(h.jsx)(f,{})})}),Object(h.jsxs)(l.c,{basepath:"/darqube-test-preview",children:[Object(h.jsx)(Z,{path:"/"}),Object(h.jsx)($,{path:"bookmarks"})]})]})},te=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,68)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))},se=Object(p.a)({reducer:{news:q,bookmarks:J}});i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(d.a,{store:se,children:Object(h.jsx)(j.a,{locale:"en-GB",defaultLocale:"en-GB",children:Object(h.jsx)(ee,{})})})}),document.getElementById("root")),te()}},[[65,1,2]]]);
//# sourceMappingURL=main.e90346cb.chunk.js.map